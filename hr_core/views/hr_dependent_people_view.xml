<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="employee_dependent_inherit_form_view" model="ir.ui.view">
        <field name="name">hr.employee.dependent.inherit.form</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form"/>
        <field name="priority">30</field>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='personal_information']" position="after">
                <page string="Children &amp; Dependents">
                    <group>
                        <field name="dependent_ids" nolabel="1" context="{'active_id': id, 'default_parent_id': id}">
                            <tree>
                                <field name="parent_id" invisible="1"/>
                                <field name="name"/>
                                <field name="date_of_birth"/>
                                <field name="study_school"/>
                                <field name="relation"/>
                                <field name="register_date" widget="date"
                                       options="{'datepicker': {'showType': 'months'}}"/>
                                <field name="end_date" widget="date"
                                       options="{'datepicker': {'showType': 'months'}}"/>
                            </tree>
                            <form string="Dependent People">
                                <group>
                                    <group colspan="4">
                                        <group string="Thông tin cơ bản">
                                            <field name="parent_id" invisible="1"/>
                                            <field name="name" string="Họ và tên"/>
                                            <field name="date_of_birth" string="Ngày sinh"
                                                   options="{'datepicker': {'showType': False}}"/>
                                            <field name="study_school" string="Trường học"/>
                                        </group>
                                        <group string="Thông tin người phụ thuộc">
                                            <field name="is_dependent"/>
                                            <field name="relation" string="Quan hệ với người nộp thuế"
                                                   attrs="{'invisible': [('is_dependent','=', False)]}"/>
                                            <field name="register_date" widget="date"
                                                   attrs="{'invisible': [('is_dependent','=', False)]}"
                                                   string="Thời điểm bắt đầu tính giảm trừ"
                                                   options="{'datepicker': {'showType': 'months'}}"/>
                                            <field name="end_date" widget="date"
                                                   attrs="{'invisible': [('is_dependent','=', False)]}"
                                                   options="{'datepicker': {'showType': 'months'}}"
                                                   string="Thời điểm kết thúc tính giảm trừ"/>
                                        </group>
                                    </group>
                                    <group attrs="{'invisible': [('is_dependent','=', False)]}">
                                        <div style="width='100%'">
                                            Người phụ thuộc đã có CMT/Hộ chiếu
                                        </div>
                                        <field name="has_id" nolabel="1"/>
                                    </group>
                                    <group colspan="4" attrs="{'invisible': [('is_dependent','=', False)]}">
                                        <group string="Chứng minh thư / Hộ chiếu"
                                               attrs="{'invisible': [('has_id', '=', False)]}">
                                            <field name="sinid" attrs="{'invisible': [('has_id', '=', False)]}"
                                                   string="Mã số thuế của người phụ thuộc (nếu có)"/>
                                            <field name="identification_id" string="Chứng minh thư / thẻ căn cước"
                                                   attrs="{'invisible': [('has_id', '=', False)]}"/>
                                            <field name="passport_id" string="Hộ chiếu"
                                                   attrs="{'invisible': [('has_id', '=', False)]}"/>
                                             <field name="country_id" string="Quốc tịch"
                                                    attrs="{'invisible': [('has_id', '=', False)]}"
                                                       options='{"no_create": True}'/>
                                        </group>
                                        <group string="Giấy khai sinh" attrs="{'invisible': [('has_id', '=', True)]}">
                                            <field name="birth_no" string="Số"
                                                   attrs="{'invisible': [('has_id', '=', True)]}"/>
                                            <field name="book_no" string="Quyển số"
                                                   attrs="{'invisible': [('has_id', '=', True)]}"/>
                                            <label for="street" string="Nơi đăng ký"/>
                                            <div class="o_address_format" attrs="{'invisible': [('has_id', '=', True)]}">
                                                <field name="country_id" placeholder="Quốc gia" class="o_address_country"
                                                       options='{"no_create": True}'/>
                                                <field name="state_id" placeholder="Tỉnh/ Thành phố"
                                                       context="{'country_id': country_id}"
                                                       options='{"no_create": True}'/>
                                                <field name="city" placeholder="Quận/Huyện" />
                                                <field name="street" placeholder="Phường/Xã" class="o_address_street"/>
                                            </div>
                                        </group>
                                    </group>
                                </group>
                            </form>
                        </field>
                    </group>
                </page>
            </xpath>
        </field>
    </record>
</odoo>
